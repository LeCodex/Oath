import { CardRestriction, OathSuit } from "../enums";
import { OathPower } from "../powers/powers";
import { IgnoresCapacity } from "../powers/denizens/denizens";
import { ASmallFavor, Assassin, BanditChiefAction, BanditChiefEffect, BanditChief, Blackmail, BookBurning, ChaosCult, Charlatan, CrackedSageAttack, CrackedSageDefense, DisgracedCaptain, Dissent, GamblingHall, Insomnia, KeyToTheCity, MercenariesAttack, MercenariesDefense, Naysayers, OnlyTwoAdvisers, RelicThief, Riots, RoyalAmbitions, Scryer, SilverTongue, Slander, SleightOfHand, SaltTheEarth, FalseProphet, FalseProphetWake, FalseProphetDiscard, Downtrodden, SecondWind, BoilingLake, Gossip, BeastTamerAttack, BeastTamerDefense, Enchantress, SneakAttack, VowOfRenewal, VowOfRenewalRecover, Zealots, SqualidDistrict } from "../powers/denizens/discord";
import { ActingTroupe, Alchemist, Augury, Bewitch, BillowingFogAttack, BillowingFogDefense, BloodPact, CrackingGroundAttack, Dazzle, DreamThief, FallenSpire, FireTalkersAttack, FireTalkersDefense, ForgottenVault, GleamingArmorAttack, GleamingArmorDefense, GreatSpire, InitiationRite, Inquisitor, Jinx, KindredWarriorsAttack, KindredWarriorsDefense, MapLibrary, MasterOfDisguise, Observatory, PlagueEngines, Portal, Revelation, SealingWard, SecretSignal, SpiritSnare, TamingCharm, TerrorSpells, Tutor, VowOfSilence, VowOfSilencePitch, VowOfSilenceRecover, WitchsBargain, WizardSchool } from "../powers/denizens/arcane";
import { BanditRampart, BattleHonorsAttack, BattleHonorsDefense, BearTraps, Captains, CodeOfHonorAttack, CodeOfHonorDefense, CouncilSeat, Curfew, EncirclementAttack, EncirclementDefense, FieldPromotionAttack, ForcedLabor, Garrison, HuntingParty, Keep, KnightsErrant, LongbowsAttack, LongbowsDefense, MartialCultureAttack, MartialCultureDefense, Messenger, MilitaryParadeAttack, MilitaryParadeDefense, Outriders, Palanquin, PeaceEnvoyAttack, PeaceEnvoyDefense, Pressgangs, RelicHunter, RoyalTax, Scouts, SecretPolice, ShieldWall, SiegeEngines, Specialist, SprawlingRampart, TollRoads, TomeGuardians, Tyrant, VowOfObedience, VowOfObedienceRest, Wrestlers } from "../powers/denizens/order";
import { ArmedMob, ARoundOfAle, AwaitedReturn, BallotBox, BookBinders, CharmingFriend, CropRotation, ExtraProvisions, FabledFeast, FamilyHeirloom, HallOfDebate, HallOfMockery, HeartsAndMinds, Herald, Homesteaders, HospitalAttack, HospitalDefense, LandWarden, Levelers, MarriageAction, MarriageEffect, MemoryOfHome, NewsFromAfar, RelicBreaker, RowdyPub, SaddleMakers, SaladDays, Storyteller, TavernSongs, TheGreatLevyAttack, TheGreatLevyDefense, TravelingDoctorAttack, TravelingDoctorDefense, VillageConstableAttack, VillageConstableDefense, VowOfPeace, VowOfPeaceDefense, WaysideInn, WelcomingParty } from "../powers/denizens/hearth";
import { AnimalHost, Bracken, FaeMerchant, InsectSwarmAttack, InsectSwarmDefense, LongLostHeir, MemoryOfNature, NatureWorshipAttack, NatureWorshipDefense, PiedPiper, Rangers, SecondChance, SmallFriends, ThreateningRoar, VowOfPoverty, VowOfPovertyRest, WalledGarden, WildAllies, Wolves } from "../powers/denizens/beast";
import { AncientBinding, AncientForge, AncientPact, BrokenForge, Convoys, Elders, FaithfulFriend, FamilyWagon, GreatCrusadeAttack, GreatCrusadeDefense, GreatHerd, HorseArchersAttack, HorseArchersDefense, LostTongue, LostTongueCampaign, MountainGiantAttack, MountainGiantDefense, MountedPatrol, Oracle, Pilgrimage, RivalKhanAttack, RivalKhanDefense, SpellBreaker, StormCaller, TwinBrother, WayStation } from "../powers/denizens/nomad";
import { Constructor } from "../utils";
import { Denizen, Edifice } from "./cards";

export type DenizenData = [OathSuit, Constructor<OathPower<Denizen>>[], CardRestriction?, boolean?];

export const denizenData: Record<string, DenizenData> = {
    SleightOfHand:      [OathSuit.Discord,  [SleightOfHand],                                        CardRestriction.Adviser],
    Naysayers:          [OathSuit.Discord,  [Naysayers],                                            CardRestriction.Adviser],
    ChaosCult:          [OathSuit.Discord,  [ChaosCult],                                            CardRestriction.Adviser],
    BeastTamer:         [OathSuit.Discord,  [BeastTamerAttack, BeastTamerDefense],                  CardRestriction.Adviser],
    Enchantress:        [OathSuit.Discord,  [Enchantress],                                          CardRestriction.Adviser],
    SneakAttack:        [OathSuit.Discord,  [SneakAttack],                                          CardRestriction.Adviser],
    Assassin:           [OathSuit.Discord,  [OnlyTwoAdvisers, Assassin],                            CardRestriction.Adviser, true],
    Insomnia:           [OathSuit.Discord,  [OnlyTwoAdvisers, Insomnia],                            CardRestriction.Adviser, true],
    SilverTongue:       [OathSuit.Discord,  [OnlyTwoAdvisers, SilverTongue],                        CardRestriction.Adviser, true],
    VowOfRenewal:       [OathSuit.Discord,  [VowOfRenewal, VowOfRenewalRecover],                    CardRestriction.Adviser, true],
    FalseProphet:       [OathSuit.Discord,  [FalseProphet, FalseProphetWake, FalseProphetDiscard],  CardRestriction.Adviser, true],
    ASmallFavor:        [OathSuit.Discord,  [ASmallFavor],                                          CardRestriction.Adviser, true],
    RoyalAmbitions:     [OathSuit.Discord,  [RoyalAmbitions],                                       CardRestriction.Adviser, true],
    GamblingHall:       [OathSuit.Discord,  [GamblingHall],                                         CardRestriction.Site],
    Gossip:             [OathSuit.Discord,  [Gossip],                                               CardRestriction.Site],
    BanditChief:        [OathSuit.Discord,  [BanditChief, BanditChiefAction, BanditChiefEffect],    CardRestriction.Site],
    KeyToTheCity:       [OathSuit.Discord,  [KeyToTheCity],                                         CardRestriction.Site],
    BoilingLake:        [OathSuit.Discord,  [BoilingLake],                                          CardRestriction.Site, true],
    SaltTheEarth:       [OathSuit.Discord,  [IgnoresCapacity, SaltTheEarth],                        CardRestriction.Site, true],
    Mercenaries:        [OathSuit.Discord,  [MercenariesAttack, MercenariesDefense]],
    SecondWind:         [OathSuit.Discord,  [SecondWind]],
    DisgracedCaptain:   [OathSuit.Discord,  [DisgracedCaptain]],
    CrackedSage:        [OathSuit.Discord,  [CrackedSageAttack, CrackedSageDefense]],
    BookBurning:        [OathSuit.Discord,  [BookBurning]],
    Zealots:            [OathSuit.Discord,  [Zealots]],
    Slander:            [OathSuit.Discord,  [Slander]],
    RelicThief:         [OathSuit.Discord,  [RelicThief]],
    Scryer:             [OathSuit.Discord,  [Scryer]],
    Downtrodden:        [OathSuit.Discord,  [Downtrodden]],
    Charlatan:          [OathSuit.Discord,  [Charlatan]],
    Blackmail:          [OathSuit.Discord,  [Blackmail]],
    Dissent:            [OathSuit.Discord,  [Dissent]],
    Riots:              [OathSuit.Discord,  [Riots]],
    
    Tutor:              [OathSuit.Arcane,   [Tutor],                                                CardRestriction.Adviser],
    ActingTroupe:       [OathSuit.Arcane,   [ActingTroupe],                                         CardRestriction.Adviser],
    SecretSignal:       [OathSuit.Arcane,   [SecretSignal],                                         CardRestriction.Adviser],
    MasterOfDisguise:   [OathSuit.Arcane,   [MasterOfDisguise],                                     CardRestriction.Adviser],
    SealingWard:        [OathSuit.Arcane,   [SealingWard],                                          CardRestriction.Adviser, true],
    InitiationRite:     [OathSuit.Arcane,   [InitiationRite],                                       CardRestriction.Adviser, true],
    VowOfSilence:       [OathSuit.Arcane,   [VowOfSilence, VowOfSilenceRecover, VowOfSilencePitch], CardRestriction.Adviser, true],
    Portal:             [OathSuit.Arcane,   [Portal],                                               CardRestriction.Site],
    WizardSchool:       [OathSuit.Arcane,   [WizardSchool],                                         CardRestriction.Site],
    ForgottenVault:     [OathSuit.Arcane,   [ForgottenVault],                                       CardRestriction.Site],
    MapLibrary:         [OathSuit.Arcane,   [MapLibrary],                                           CardRestriction.Site],
    FireTalkers:        [OathSuit.Arcane,   [FireTalkersAttack, FireTalkersDefense]],
    RustingRay:         [OathSuit.Arcane,   []],
    BillowingFog:       [OathSuit.Arcane,   [BillowingFogAttack, BillowingFogDefense]],
    KindredWarriors:    [OathSuit.Arcane,   [KindredWarriorsAttack, KindredWarriorsDefense]],
    CrackingGround:     [OathSuit.Arcane,   [CrackingGroundAttack, CrackedSageDefense]],
    GleamingArmor:      [OathSuit.Arcane,   [GleamingArmorAttack, GleamingArmorDefense]],
    SpiritSnare:        [OathSuit.Arcane,   [SpiritSnare]],
    Alchemist:          [OathSuit.Arcane,   [Alchemist]],
    Jinx:               [OathSuit.Arcane,   [Jinx]],
    MagiciansCode:      [OathSuit.Arcane,   []],
    TamingCharm:        [OathSuit.Arcane,   [TamingCharm]],
    Inquisitor:         [OathSuit.Arcane,   [Inquisitor]],
    Augury:             [OathSuit.Arcane,   [Augury]],
    TerrorSpells:       [OathSuit.Arcane,   [TerrorSpells]],
    BloodPact:          [OathSuit.Arcane,   [BloodPact]],
    Observatory:        [OathSuit.Arcane,   [Observatory]],
    PlagueEngines:      [OathSuit.Arcane,   [PlagueEngines]],
    DreamThief:         [OathSuit.Arcane,   [DreamThief]],
    WitchsBargain:      [OathSuit.Arcane,   [WitchsBargain]],
    Dazzle:             [OathSuit.Arcane,   [Dazzle]],
    Revelation:         [OathSuit.Arcane,   [Revelation]],
    Bewitch:            [OathSuit.Arcane,   [Bewitch]],
    
    Palanquin:          [OathSuit.Order,    [Palanquin],                                            CardRestriction.Adviser],
    Tyrant:             [OathSuit.Order,    [Tyrant],                                               CardRestriction.Adviser, true],
    CouncilSeat:        [OathSuit.Order,    [CouncilSeat],                                          CardRestriction.Adviser, true],
    VowOfObedience:     [OathSuit.Order,    [VowOfObedience, VowOfObedienceRest],                   CardRestriction.Adviser, true],
    Curfew:             [OathSuit.Order,    [Curfew],                                               CardRestriction.Site],
    TollRoads:          [OathSuit.Order,    [TollRoads],                                            CardRestriction.Site],
    ForcedLabor:        [OathSuit.Order,    [ForcedLabor],                                          CardRestriction.Site],
    SecretPolice:       [OathSuit.Order,    [SecretPolice],                                         CardRestriction.Site],
    TomeGuardians:      [OathSuit.Order,    [TomeGuardians],                                        CardRestriction.Site],
    Keep:               [OathSuit.Order,    [Keep],                                                 CardRestriction.Site, true],
    Longbows:           [OathSuit.Order,    [LongbowsAttack, LongbowsDefense]],
    ShieldWall:         [OathSuit.Order,    [ShieldWall]],
    Wrestlers:          [OathSuit.Order,    [Wrestlers]],
    BattleHonors:       [OathSuit.Order,    [BattleHonorsAttack, BattleHonorsDefense]],
    BearTraps:          [OathSuit.Order,    [BearTraps]],
    Scouts:             [OathSuit.Order,    [Scouts]],
    MartialCulture:     [OathSuit.Order,    [MartialCultureAttack, MartialCultureDefense]],
    CodeOfHonor:        [OathSuit.Order,    [CodeOfHonorAttack, CodeOfHonorDefense]],
    Outriders:          [OathSuit.Order,    [Outriders]],
    FieldPromotion:     [OathSuit.Order,    [FieldPromotionAttack, FieldPromotionAttack]],
    MilitaryParade:     [OathSuit.Order,    [MilitaryParadeAttack, MilitaryParadeDefense]],
    Specialist:         [OathSuit.Order,    [Specialist]],
    Encirclement:       [OathSuit.Order,    [EncirclementAttack, EncirclementDefense]],
    PeaceEnvoy:         [OathSuit.Order,    [PeaceEnvoyAttack, PeaceEnvoyDefense]],
    RelicHunter:        [OathSuit.Order,    [RelicHunter]],
    Pressgangs:         [OathSuit.Order,    [Pressgangs]],
    Messenger:          [OathSuit.Order,    [Messenger]],
    Captains:           [OathSuit.Order,    [Captains]],
    SiegeEngines:       [OathSuit.Order,    [SiegeEngines]],
    KnightsErrant:      [OathSuit.Order,    [KnightsErrant]],
    HuntingParty:       [OathSuit.Order,    [HuntingParty]],
    RoyalTax:           [OathSuit.Order,    [RoyalTax]],
    Garrison:           [OathSuit.Order,    [Garrison]],
    
    CharmingFriend:     [OathSuit.Hearth,   [CharmingFriend],                                       CardRestriction.Adviser],
    SaddleMakers:       [OathSuit.Hearth,   [SaddleMakers],                                         CardRestriction.Adviser],
    BookBinders:        [OathSuit.Hearth,   [BookBinders],                                          CardRestriction.Adviser],
    Herald:             [OathSuit.Hearth,   [Herald],                                               CardRestriction.Adviser],
    Marriage:           [OathSuit.Hearth,   [MarriageAction, MarriageEffect],                       CardRestriction.Adviser, true],
    FamilyHeirloom:     [OathSuit.Hearth,   [FamilyHeirloom],                                       CardRestriction.Adviser, true],
    VowOfPeace:         [OathSuit.Hearth,   [VowOfPeace, VowOfPeaceDefense],                        CardRestriction.Adviser, true],
    HeartsAndMinds:     [OathSuit.Hearth,   [HeartsAndMinds],                                       CardRestriction.Site],
    VillageConstable:   [OathSuit.Hearth,   [VillageConstableAttack, VillageConstableDefense],      CardRestriction.Site],
    Hospital:           [OathSuit.Hearth,   [HospitalAttack, HospitalDefense],                      CardRestriction.Site],
    TinkersFair:        [OathSuit.Hearth,   [], CardRestriction.Site],
    WaysideInn:         [OathSuit.Hearth,   [WaysideInn],                                           CardRestriction.Site],
    WelcomingParty:     [OathSuit.Hearth,   [WelcomingParty],                                       CardRestriction.Site],
    ArmedMob:           [OathSuit.Hearth,   [ArmedMob],                                             CardRestriction.Site],
    BallotBox:          [OathSuit.Hearth,   [BallotBox],                                            CardRestriction.Site],
    RowdyPub:           [OathSuit.Hearth,   [RowdyPub],                                             CardRestriction.Site],
    ARoundOfAle:        [OathSuit.Hearth,   [ARoundOfAle],                                          CardRestriction.Site, true],
    ExtraProvisions:    [OathSuit.Hearth,   [ExtraProvisions]],
    TravelingDoctor:    [OathSuit.Hearth,   [TravelingDoctorAttack, TravelingDoctorDefense]],
    TheGreatLevy:       [OathSuit.Hearth,   [TheGreatLevyAttack, TheGreatLevyDefense]],
    AwaitedReturn:      [OathSuit.Hearth,   [AwaitedReturn]],
    MemoryOfHome:       [OathSuit.Hearth,   [MemoryOfHome]],
    Storyteller:        [OathSuit.Hearth,   [Storyteller]],
    TavernSongs:        [OathSuit.Hearth,   [TavernSongs]],
    Homesteaders:       [OathSuit.Hearth,   [Homesteaders]],
    CropRotation:       [OathSuit.Hearth,   [CropRotation]],
    LandWarden:         [OathSuit.Hearth,   [LandWarden]],
    NewsFromAfar:       [OathSuit.Hearth,   [NewsFromAfar]],
    Levelers:           [OathSuit.Hearth,   [Levelers]],
    RelicBreaker:       [OathSuit.Hearth,   [RelicBreaker]],
    DeedWriter:         [OathSuit.Hearth,   []],
    FabledFeast:        [OathSuit.Hearth,   [FabledFeast]],
    SaladDays:          [OathSuit.Hearth,   [SaladDays]],
    
    GiantPython:        [OathSuit.Beast,    [], CardRestriction.Adviser],
    SmallFriends:       [OathSuit.Beast,    [SmallFriends],                                         CardRestriction.Adviser],
    PiedPiper:          [OathSuit.Beast,    [IgnoresCapacity, PiedPiper],                           CardRestriction.Adviser],
    AnimalPlaymates:    [OathSuit.Beast,    [], CardRestriction.Adviser],
    TrueNames:          [OathSuit.Beast,    [], CardRestriction.Adviser],
    Birdsong:           [OathSuit.Beast,    [], CardRestriction.Adviser],
    LongLostHeir:       [OathSuit.Beast,    [LongLostHeir],                                         CardRestriction.Adviser, true],
    VowOfPoverty:       [OathSuit.Beast,    [VowOfPoverty, VowOfPovertyRest],                       CardRestriction.Adviser, true],
    VowOfUnion:         [OathSuit.Beast,    [], CardRestriction.Adviser, true],
    VowOfBeastkin:      [OathSuit.Beast,    [], CardRestriction.Adviser, true],
    WalledGarden:       [OathSuit.Beast,    [WalledGarden],                                         CardRestriction.Site],
    TheOldOak:          [OathSuit.Beast,    [], CardRestriction.Site],
    RovingTerror:       [OathSuit.Beast,    [], CardRestriction.Site],
    GraspingVines:      [OathSuit.Beast,    [], CardRestriction.Site],
    Mushrooms:          [OathSuit.Beast,    [], CardRestriction.Site],
    MarshSpirit:        [OathSuit.Beast,    [], CardRestriction.Site],
    ForestCouncil:      [OathSuit.Beast,    [], CardRestriction.Site, true],
    InsectSwarm:        [OathSuit.Beast,    [InsectSwarmAttack, InsectSwarmDefense]],
    Rangers:            [OathSuit.Beast,    [Rangers]],
    NatureWorship:      [OathSuit.Beast,    [NatureWorshipAttack, NatureWorshipDefense]],
    WarTortoise:        [OathSuit.Beast,    []],
    Bracken:            [OathSuit.Beast,    [Bracken]],
    ErrandBoy:          [OathSuit.Beast,    []],
    Wolves:             [OathSuit.Beast,    [Wolves]],
    ForestPaths:        [OathSuit.Beast,    []],
    FaeMerchant:        [OathSuit.Beast,    [FaeMerchant]],
    SecondChance:       [OathSuit.Beast,    [SecondChance]],
    NewGrowth:          [OathSuit.Beast,    []],
    WildCry:            [OathSuit.Beast,    []],
    MemoryOfNature:     [OathSuit.Beast,    [MemoryOfNature]],
    WildAllies:         [OathSuit.Beast,    [WildAllies]],
    ThreateningRoar:    [OathSuit.Beast,    [ThreateningRoar]],
    AnimalHost:         [OathSuit.Beast,    [AnimalHost]],
    
    LostTongue:         [OathSuit.Nomad,    [LostTongue, LostTongueCampaign],                       CardRestriction.Adviser],
    FamilyWagon:        [OathSuit.Nomad,    [FamilyWagon],                                          CardRestriction.Adviser],
    AncientBloodline:   [OathSuit.Nomad,    [], CardRestriction.Adviser],
    Hospitality:        [OathSuit.Nomad,    [], CardRestriction.Adviser],
    Pilgrimage:         [OathSuit.Nomad,    [Pilgrimage],                                           CardRestriction.Adviser],
    TwinBrother:        [OathSuit.Nomad,    [TwinBrother],                                          CardRestriction.Adviser],
    FaithfulFriend:     [OathSuit.Nomad,    [FaithfulFriend],                                       CardRestriction.Adviser, true],
    AncientPact:        [OathSuit.Nomad,    [AncientPact],                                          CardRestriction.Adviser, true],
    VowOfKinship:       [OathSuit.Nomad,    [], CardRestriction.Adviser, true],
    WayStation:         [OathSuit.Nomad,    [WayStation],                                           CardRestriction.Site],
    SpellBreaker:       [OathSuit.Nomad,    [SpellBreaker],                                         CardRestriction.Site],
    Resettle:           [OathSuit.Nomad,    [], CardRestriction.Site],
    Oracle:             [OathSuit.Nomad,    [Oracle],                                               CardRestriction.Site],
    GreatHerd:          [OathSuit.Nomad,    [GreatHerd],                                            CardRestriction.Site],
    SacredGround:       [OathSuit.Nomad,    [], CardRestriction.Site, true],
    RainBoots:          [OathSuit.Nomad,    []],
    HorseArchers:       [OathSuit.Nomad,    [HorseArchersAttack, HorseArchersDefense]],
    WarningSignals:     [OathSuit.Nomad,    []],
    Lancers:            [OathSuit.Nomad,    []],
    MountainGiant:      [OathSuit.Nomad,    [MountainGiantAttack, MountainGiantDefense]],
    RivalKhan:          [OathSuit.Nomad,    [RivalKhanAttack, RivalKhanDefense]],
    MountedPatrol:      [OathSuit.Nomad,    [MountedPatrol]],
    GreatCrusade:       [OathSuit.Nomad,    [GreatCrusadeAttack, GreatCrusadeDefense]],
    StormCaller:        [OathSuit.Nomad,    [StormCaller]],
    WildMounts:         [OathSuit.Nomad,    []],
    Elders:             [OathSuit.Nomad,    [Elders]],
    AncientBinding:     [OathSuit.Nomad,    [AncientBinding]],
    Tents:              [OathSuit.Nomad,    []],
    Convoys:            [OathSuit.Nomad,    [Convoys]],
    SpecialEnvoy:       [OathSuit.Nomad,    []],
    AFastSteed:         [OathSuit.Nomad,    []],
    RelicWorship:       [OathSuit.Nomad,    []],
    TheGathering:       [OathSuit.Nomad,    []],
}

export const edificeData: Record<string, [string, OathSuit, Constructor<OathPower<Edifice>>[]]> = {
    FestivalDistrict:   ["SqualidDistrict",     OathSuit.Discord,   []],
    SqualidDistrict:    ["FestivalDistrict",    OathSuit.None,      [SqualidDistrict]],

    GreatSpire:         ["FallenSpire",         OathSuit.Arcane,    [GreatSpire]],
    FallenSpire:        ["GreatSpire",          OathSuit.None,      [FallenSpire]],

    SprawlingRampart:   ["BanditRampart",       OathSuit.Order,     [SprawlingRampart]],
    BanditRampart:      ["SprawlingRampart",    OathSuit.None,      [BanditRampart]],

    HallOfDebate:       ["HallOfMockery",       OathSuit.Hearth,    [HallOfDebate]],
    HallOfMockery:      ["HallOfDebate",        OathSuit.None,      [HallOfMockery]],

    ForestTemple:       ["RuinedTemple",        OathSuit.Beast,     []],
    RuinedTemple:       ["ForestTemple",        OathSuit.None,      []],

    AncientForge:       ["BrokenForge",         OathSuit.Nomad,     [AncientForge]],
    BrokenForge:        ["AncientForge",        OathSuit.None,      [BrokenForge]]
}